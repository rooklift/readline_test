<!DOCTYPE html>
<html>
<head><title>Electron Readline Test</title></head>
<body>
	<p id="para">Running...</p>
</body>
<script>

	const child_process = require("child_process");
	const path = require("path");
	const readline = require("readline");

	let exe = child_process.spawn(
		path.join(__dirname, "testprog.exe"),
		["50000000"]
	);

	let scanner = readline.createInterface({
		input: exe.stdout,
		output: undefined,
		terminal: false
	});

	scanner.on("line", (line) => {
		document.getElementById("para").innerHTML += `<br>Got line, len: ${line.length}, end: ${line.slice(-6)})`;
	});

</script>
</html>
